var XDate=function(t,e,n,r){function s(){var e,n=this instanceof s?this:new s,r=arguments,i=r.length;if("boolean"==typeof r[i-1]&&(e=r[--i],r=D(r,0,i)),i)if(1==i){if(i=r[0],i instanceof t||"number"==typeof i)n[0]=new t((+i));else if(i instanceof s){var r=n,a=new t((+i[0]));u(i)&&(a.toString=k),r[0]=a}else if("string"==typeof i){n[0]=new t(0);t:{for(var c,r=i,i=e||!1,a=s.parsers,f=0;f<a.length;f++)if(c=a[f](r,i,n)){n=c;break t}n[0]=new t(r)}}}else n[0]=new t(W.apply(t,r)),e||(n[0]=S(n[0]));else n[0]=new t;return"boolean"==typeof e&&o(n,e),n}function u(t){return t[0].toString===k}function o(e,n,r){return n?u(e)||(r&&(e[0]=new t(W(e[0].getFullYear(),e[0].getMonth(),e[0].getDate(),e[0].getHours(),e[0].getMinutes(),e[0].getSeconds(),e[0].getMilliseconds()))),e[0].toString=k):u(e)&&(e[0]=r?S(e[0]):new t((+e[0]))),e}function i(t,e,n,r,s){var u=b(M,t[0],s),t=b(C,t[0],s),s=!1;2==r.length&&"boolean"==typeof r[1]&&(s=r[1],r=[n]),n=1==e?(n%12+12)%12:u(1),t(e,r),s&&u(1)!=n&&(t(1,[u(1)-1]),t(2,[U(u(0),u(1))]))}function a(t,n,r,s){var r=Number(r),u=e.floor(r);t["set"+N[n]](t["get"+N[n]]()+u,s||!1),u!=r&&n<6&&a(t,n+1,(r-u)*F[n],s)}function c(t,n,r){var t=t.clone().setUTCMode(!0,!0),n=s(n).setUTCMode(!0,!0),u=0;if(0==r||1==r){for(var o=6;o>=r;o--)u/=F[o],u+=M(n,!1,o)-M(t,!1,o);1==r&&(u+=12*(n.getFullYear()-t.getFullYear()))}else 2==r?(r=t.toDate().setUTCHours(0,0,0,0),u=n.toDate().setUTCHours(0,0,0,0),u=e.round((u-r)/864e5)+(n-u-(t-r))/864e5):u=(n-t)/[36e5,6e4,1e3,1][r-3];return u}function f(n){var r=n(0),s=n(1),u=n(2),n=new t(W(r,s,u)),r=d(l(r,s,u));return e.floor(e.round((n-r)/864e5)/7)+1}function l(e,n,r){return n=new t(W(e,n,r)),n<d(e)?e-1:n>=d(e+1)?e+1:e}function d(e){return e=new t(W(e,0,4)),e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+6)%7),e}function h(t,e,n,s){var u=b(M,t,s),o=b(C,t,s);n===r&&(n=l(u(0),u(1),u(2))),n=d(n),s||(n=S(n)),t.setTime(+n),o(2,[u(2)+7*(e-1)])}function g(t,e,n,r,u){var o=s.locales,i=o[s.defaultLocale]||{},a=b(M,t,u),n=("string"==typeof n?o[n]:n)||{};return y(t,e,function(t){if(r)for(var e=(7==t?2:t)-1;e>=0;e--)r.push(a(e));return a(t)},function(t){return n[t]||i[t]},u)}function y(t,e,n,s,u){for(var o,i,a="";o=e.match(O);){if(a+=e.substr(0,o.index),o[1]){i=a;for(var a=t,c=o[1],f=n,l=s,d=u,h=c.length,g=void 0,m="";h>0;)g=T(a,c.substr(0,h),f,l,d),g!==r?(m+=g,c=c.substr(h),h=c.length):h--;a=i+(m+c)}else o[3]?(i=y(t,o[4],n,s,u),parseInt(i.replace(/\D/g,""),10)&&(a+=i)):a+=o[7]||"'";e=e.substr(o.index+o[0].length)}return a+e}function T(t,n,r,u,o){var i=s.formatters[n];if("string"==typeof i)return y(t,i,r,u,o);if("function"==typeof i)return i(t,o||!1,u);switch(n){case"fff":return z(r(6),3);case"s":return r(5);case"ss":return z(r(5));case"m":return r(4);case"mm":return z(r(4));case"h":return r(3)%12||12;case"hh":return z(r(3)%12||12);case"H":return r(3);case"HH":return z(r(3));case"d":return r(2);case"dd":return z(r(2));case"ddd":return u("dayNamesShort")[r(7)]||"";case"dddd":return u("dayNames")[r(7)]||"";case"M":return r(1)+1;case"MM":return z(r(1)+1);case"MMM":return u("monthNamesShort")[r(1)]||"";case"MMMM":return u("monthNames")[r(1)]||"";case"yy":return(r(0)+"").substring(2);case"yyyy":return r(0);case"t":return m(r,u).substr(0,1).toLowerCase();case"tt":return m(r,u).toLowerCase();case"T":return m(r,u).substr(0,1);case"TT":return m(r,u);case"z":case"zz":case"zzz":return o?n="Z":(u=t.getTimezoneOffset(),t=u<0?"+":"-",r=e.floor(e.abs(u)/60),u=e.abs(u)%60,o=r,"zz"==n?o=z(r):"zzz"==n&&(o=z(r)+":"+z(u)),n=t+o),n;case"w":return f(r);case"ww":return z(f(r));case"S":return n=r(2),n>10&&n<20?"th":["st","nd","rd"][n%10-1]||"th"}}function m(t,e){return e(t(3)<12?"amDesignator":"pmDesignator")}function p(t){return!isNaN(+t[0])}function M(t,e,n){return t["get"+(e?"UTC":"")+N[n]]()}function C(t,e,n,r){t["set"+(e?"UTC":"")+N[n]].apply(t,r)}function S(e){return new t(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function U(e,n){return 32-new t(W(e,n,32)).getUTCDate()}function w(t){return function(){return t.apply(r,[this].concat(D(arguments)))}}function b(t){var e=D(arguments,1);return function(){return t.apply(r,e.concat(D(arguments)))}}function D(t,e,s){return n.prototype.slice.call(t,e||0,s===r?t.length:s)}function v(t,e){for(var n=0;n<t.length;n++)e(t[n],n)}function z(t,e){for(e=e||2,t+="";t.length<e;)t="0"+t;return t}var N="FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds,Day,Year".split(","),H=["Years","Months","Days"],F=[12,31,24,60,60,1e3,1],O=/(([a-zA-Z])\2*)|(\((('.*?'|\(.*?\)|.)*?)\))|('(.*?)')/,W=t.UTC,k=t.prototype.toUTCString,A=s.prototype;return A.length=1,A.splice=n.prototype.splice,A.getUTCMode=w(u),A.setUTCMode=w(o),A.getTimezoneOffset=function(){return u(this)?0:this[0].getTimezoneOffset()},v(N,function(t,e){A["get"+t]=function(){return M(this[0],u(this),e)},8!=e&&(A["getUTC"+t]=function(){return M(this[0],!0,e)}),7!=e&&(A["set"+t]=function(t){return i(this,e,t,arguments,u(this)),this},8!=e&&(A["setUTC"+t]=function(t){return i(this,e,t,arguments,!0),this},A["add"+(H[e]||t)]=function(t,n){return a(this,e,t,n),this},A["diff"+(H[e]||t)]=function(t){return c(this,t,e)}))}),A.getWeek=function(){return f(b(M,this,!1))},A.getUTCWeek=function(){return f(b(M,this,!0))},A.setWeek=function(t,e){return h(this,t,e,!1),this},A.setUTCWeek=function(t,e){return h(this,t,e,!0),this},A.addWeeks=function(t){return this.addDays(7*Number(t))},A.diffWeeks=function(t){return c(this,t,2)/7},s.parsers=[function(e,n,r){if(e=e.match(/^(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/)){var s=new t(W(e[1],e[3]?e[3]-1:0,e[5]||1,e[7]||0,e[8]||0,e[10]||0,e[12]?1e3*Number("0."+e[12]):0));return e[13]?e[14]&&s.setUTCMinutes(s.getUTCMinutes()+("-"==e[15]?1:-1)*(60*Number(e[16])+(e[18]?Number(e[18]):0))):n||(s=S(s)),r.setTime(+s)}}],s.parse=function(t){return+s(""+t)},A.toString=function(t,e,n){return t!==r&&p(this)?g(this,t,e,n,u(this)):this[0].toString()},A.toUTCString=A.toGMTString=function(t,e,n){return t!==r&&p(this)?g(this,t,e,n,!0):this[0].toUTCString()},A.toISOString=function(){return this.toUTCString("yyyy-MM-dd'T'HH:mm:ss(.fff)zzz")},s.defaultLocale="",s.locales={"":{monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),amDesignator:"AM",pmDesignator:"PM"}},s.formatters={i:"yyyy-MM-dd'T'HH:mm:ss(.fff)",u:"yyyy-MM-dd'T'HH:mm:ss(.fff)zzz"},v("getTime,valueOf,toDateString,toTimeString,toLocaleString,toLocaleDateString,toLocaleTimeString,toJSON".split(","),function(t){A[t]=function(){return this[0][t]()}}),A.setTime=function(t){return this[0].setTime(t),this},A.valid=w(p),A.clone=function(){return new s(this)},A.clearTime=function(){return this.setHours(0,0,0,0)},A.toDate=function(){return new t((+this[0]))},s.now=function(){return+new t},s.today=function(){return(new s).clearTime()},s.UTC=W,s.getDaysInMonth=U,"undefined"!=typeof module&&module.exports&&(module.exports=s),"function"==typeof define&&define.amd&&define([],function(){return s}),s}(Date,Math,Array);